<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Console - Employee Directory</title>
    <link rel="stylesheet" href="admin-styles.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <h2>Admin Console</h2>
            <p>Employee Directory</p>
        </div>

        <div class="nav-section">
            <div class="nav-label">Overview</div>
            <div class="nav-item active" data-section="dashboard">
                <span class="nav-item-icon">üìä</span>
                Dashboard
            </div>
            <div class="nav-item" data-section="analytics">
                <span class="nav-item-icon">üìà</span>
                Analytics
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-label">Management</div>
            <div class="nav-item" data-section="employees">
                <span class="nav-item-icon">üë•</span>
                Employees
            </div>
            <div class="nav-item" data-section="permissions">
                <span class="nav-item-icon">üîê</span>
                Permissions
            </div>
            <div class="nav-item" data-section="departments">
                <span class="nav-item-icon">üè¢</span>
                Departments & Offices
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-label">System</div>
            <div class="nav-item" data-section="settings">
                <span class="nav-item-icon">‚öôÔ∏è</span>
                Settings
            </div>
            <div class="nav-item" data-section="audit">
                <span class="nav-item-icon">üìã</span>
                Audit Log
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-label">Public View</div>
            <a href="index.html" class="nav-item" style="border-left: none;">
                <span class="nav-item-icon">üåê</span>
                View Directory
            </a>
        </div>
    </div>

    <div class="main-content">
        <!-- Dashboard Section -->
        <div id="dashboard-section" class="content-section">
            <div class="header">
                <h1>Dashboard</h1>
                <p>Overview of your employee directory</p>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-trend">‚Üë 12%</div>
                    </div>
                    <div class="stat-value">248</div>
                    <div class="stat-label">Total Employees</div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon">üè¢</div>
                        <div class="stat-trend">‚Üë 5%</div>
                    </div>
                    <div class="stat-value">12</div>
                    <div class="stat-label">Departments</div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon">üìç</div>
                        <div class="stat-trend">‚Üí 0%</div>
                    </div>
                    <div class="stat-value">8</div>
                    <div class="stat-label">Office Locations</div>
                </div>

                <div class="stat-card">
                    <div class="stat-card-header">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-trend down">‚Üì 3%</div>
                    </div>
                    <div class="stat-value">15</div>
                    <div class="stat-label">New This Month</div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Recent Activity</h2>
                    <button class="btn btn-secondary">View All</button>
                </div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Action</th>
                            <th>User</th>
                            <th>Date</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Added new employee</td>
                            <td>John Smith</td>
                            <td>2 hours ago</td>
                            <td><span class="badge badge-user">Complete</span></td>
                        </tr>
                        <tr>
                            <td>Updated department info</td>
                            <td>Sarah Johnson</td>
                            <td>5 hours ago</td>
                            <td><span class="badge badge-user">Complete</span></td>
                        </tr>
                        <tr>
                            <td>Permission change requested</td>
                            <td>Mike Chen</td>
                            <td>1 day ago</td>
                            <td><span class="badge badge-pending">Pending</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Employees Section -->
        <div id="employees-section" class="content-section" style="display: none;">
            <div class="header">
                <h1>Employee Management</h1>
                <p>Add, edit, or remove employees from the directory</p>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">All Employees</h2>
                    <button class="btn btn-primary" onclick="openModal('addEmployeeModal')">
                        <span>‚ûï</span> Add Employee
                    </button>
                </div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Title</th>
                            <th>Department</th>
                            <th>Email</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="employeeTableBody">
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Permissions Section -->
        <div id="permissions-section" class="content-section" style="display: none;">
            <div class="header">
                <h1>User Permissions</h1>
                <p>Manage access levels and privileges</p>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Admin Users</h2>
                    <button class="btn btn-primary" onclick="openModal('addAdminModal')">
                        <span>‚ûï</span> Add Admin
                    </button>
                </div>
                <table class="table">
                    <thead>
                        <tr>
                            <th>User</th>
                            <th>Email</th>
                            <th>Role</th>
                            <th>Last Active</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>David Park</td>
                            <td>david.park@company.com</td>
                            <td><span class="badge badge-admin">Super Admin</span></td>
                            <td>Just now</td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn">Edit</button>
                                    <button class="action-btn delete">Revoke</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Amanda Lee</td>
                            <td>amanda.lee@company.com</td>
                            <td><span class="badge badge-admin">Admin</span></td>
                            <td>2 hours ago</td>
                            <td>
                                <div class="action-buttons">
                                    <button class="action-btn">Edit</button>
                                    <button class="action-btn delete">Revoke</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Departments & Offices Section -->
        <div id="departments-section" class="content-section" style="display: none;">
            <div class="header">
                <div style="flex: 1;">
                    <h1>Departments & Offices</h1>
                    <p>Manage dropdown options for employee forms</p>
                </div>
                <div class="save-controls">
                    <span class="unsaved-indicator" id="unsavedIndicator" style="display: none;">
                        <span class="indicator-dot"></span>
                        Unsaved changes
                    </span>
                    <button class="btn btn-secondary" id="cancelSettingsBtn" disabled>Cancel</button>
                    <button class="btn btn-primary" id="saveSettingsBtn" disabled>Save Changes</button>
                </div>
            </div>

            <div class="settings-grid">
                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2 class="section-title">Departments</h2>
                            <p class="section-subtitle" id="departmentCount">0 departments</p>
                        </div>
                    </div>

                    <div class="add-item-form">
                        <input
                            type="text"
                            id="newDepartment"
                            class="form-input"
                            placeholder="Add new department..."
                        >
                        <button class="btn btn-primary" id="addDepartmentBtn">+ Add</button>
                    </div>

                    <div class="options-list" id="departmentsList">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>

                <div class="section">
                    <div class="section-header">
                        <div>
                            <h2 class="section-title">Office Locations</h2>
                            <p class="section-subtitle" id="officeCount">0 locations</p>
                        </div>
                    </div>

                    <div class="add-item-form">
                        <input
                            type="text"
                            id="newOffice"
                            class="form-input"
                            placeholder="Add new office location..."
                        >
                        <button class="btn btn-primary" id="addOfficeBtn">+ Add</button>
                    </div>

                    <div class="options-list" id="officesList">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
            </div>

            <div class="info-box">
                <h3>üí° How it works</h3>
                <ul>
                    <li><strong>Add:</strong> Type a name and click "+ Add"</li>
                    <li><strong>Edit:</strong> Click ‚úèÔ∏è to edit, then ‚úÖ to save</li>
                    <li><strong>Delete:</strong> Click üóëÔ∏è to remove (requires confirmation)</li>
                    <li><strong>Auto-sync:</strong> Changes appear immediately in the "Add Employee" form</li>
                </ul>
            </div>
        </div>

        <!-- Settings Section -->
        <div id="settings-section" class="content-section" style="display: none;">
            <div class="header">
                <h1>Settings</h1>
                <p>Configure directory settings and preferences</p>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">General Settings</h2>
                    <button class="btn btn-primary">Save Changes</button>
                </div>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Company Name</label>
                        <input type="text" class="form-input" value="Acme Corporation" placeholder="Enter company name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Default Office</label>
                        <select class="form-select">
                            <option>San Francisco, CA</option>
                            <option>New York, NY</option>
                            <option>Austin, TX</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Time Zone</label>
                        <select class="form-select">
                            <option>Pacific Time (PT)</option>
                            <option>Eastern Time (ET)</option>
                            <option>Central Time (CT)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Date Format</label>
                        <select class="form-select">
                            <option>MM/DD/YYYY</option>
                            <option>DD/MM/YYYY</option>
                            <option>YYYY-MM-DD</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Add Employee Modal -->
    <div id="addEmployeeModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add New Employee</h2>
                <p class="modal-subtitle">Enter employee information below</p>
            </div>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">Full Name</label>
                    <input type="text" class="form-input" placeholder="John Doe">
                </div>
                <div class="form-group">
                    <label class="form-label">Email</label>
                    <input type="email" class="form-input" placeholder="john.doe@company.com">
                </div>
                <div class="form-group">
                    <label class="form-label">Job Title</label>
                    <input type="text" class="form-input" placeholder="Software Engineer">
                </div>
                <div class="form-group">
                    <label class="form-label">Department</label>
                    <select class="form-select">
                        <option>Engineering</option>
                        <option>Sales</option>
                        <option>Marketing</option>
                        <option>HR</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Phone</label>
                    <input type="tel" class="form-input" placeholder="(555) 123-4567">
                </div>
                <div class="form-group">
                    <label class="form-label">Office</label>
                    <select class="form-select">
                        <option>San Francisco, CA</option>
                        <option>New York, NY</option>
                        <option>Austin, TX</option>
                        <option>Remote</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addEmployeeModal')">Cancel</button>
                <button class="btn btn-primary">Add Employee</button>
            </div>
        </div>
    </div>

    <!-- Add Admin Modal -->
    <div id="addAdminModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add Admin User</h2>
                <p class="modal-subtitle">Grant admin privileges to a user</p>
            </div>
            <div class="form-grid">
                <div class="form-group">
                    <label class="form-label">Select Employee</label>
                    <select class="form-select">
                        <option>Sarah Johnson</option>
                        <option>Michael Chen</option>
                        <option>Emily Rodriguez</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Admin Role</label>
                    <select class="form-select">
                        <option>Admin</option>
                        <option>Super Admin</option>
                        <option>Read Only</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('addAdminModal')">Cancel</button>
                <button class="btn btn-primary">Grant Access</button>
            </div>
        </div>
    </div>

    <script src="data.js"></script>
    <script src="admin.js"></script>
    <script type="module" src="dist/settings.js"></script>
</body>
</html>